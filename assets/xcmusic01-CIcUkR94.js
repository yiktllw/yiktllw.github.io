import{c as T}from"./copy-BNUq0S91.js";import{d as S,r as C,n as j,b as F,c,a as s,e as g,t as n,u as i,f as B,g as a,h as w,F as I,i as M,o as p}from"./index-BgJE6vnw.js";import"https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs";const X={class:"blog-info"},q={class:"blog-title"},D={class:"info"},P={class:"create-time"},N={class:"last-update"},U={class:"reading-time"},$={key:0,class:"category"},L={key:1,class:"series"},O=["data-open"],V={class:"line-numbers"},G={class:"top-line"},Y=["src"],K=S({__name:"xcmusic01",setup(z){const u=C(),l=document.createElement("script");l.src="https://utteranc.es/client.js",l.setAttribute("repo","yiktllw/yiktllw.github.io"),l.setAttribute("issue-term","2025/04/xcmusic01"),l.setAttribute("label","ğŸ’¬comment"),l.setAttribute("theme",`github-${window.theme??"dark"}`),l.setAttribute("crossorigin","anonymous"),l.setAttribute("async","true"),j(()=>{var o,t,r;(o=u.value)==null||o.appendChild(l),(t=window.mermaid)==null||t.initialize({startOnLoad:!1,theme:window.theme==="dark"?"dark":"default"}),(r=window.mermaid)==null||r.run()});const e=F.find(o=>o.component==="@/blogs/2025/04/xcmusic01.vue");document.title=(e==null?void 0:e.blogInfo.title)??"yiktllwçš„åšå®¢";const x=[`<!-- é€å­—æ­Œè¯åŠ¨ç”» -->
<span
  class="item-white font-color-main"
  :style="{
    transition: \`clip-path \${(word.duration ?? 0) + (word.startTime ?? line.startTime) > currentTime ? (word.duration ?? 0) / 1000 : 0}s linear, color 0.5s ease\`,
    clipPath:
      word.startTime <= currentTime ? 'inset(0 0% 0 0)' : 'inset(0 100% 0 0)',
    color:
      index === currentLine
        ? 'var(--font-color-main)'
        : 'var(--font-color-standard)',
  }"
>
  {{ word.text }}
</span>
`],k=o=>{const t=x[o];navigator.clipboard.writeText(t)},m=C([!0]),_=o=>{m.value[o]=!m.value[o]};return(o,t)=>{var r,h,f,v,b,E,y,A;return p(),c("div",{class:"blog",ref_key:"blog",ref:u},[s("div",X,[s("h1",q,n(((r=i(e))==null?void 0:r.blogInfo.title)??"Untitled"),1),s("div",D,[s("span",P,[t[2]||(t[2]=s("span",{class:"ele-title"},"å‘å¸ƒäºï¼š",-1)),a(n(i(w)(((h=i(e))==null?void 0:h.blogInfo.createTime)??0)),1)]),s("span",N,[t[3]||(t[3]=s("span",{class:"ele-title"},"ä¿®æ”¹äºï¼š",-1)),a(n(i(w)(((f=i(e))==null?void 0:f.blogInfo.lastUpdate)??0)),1)]),s("span",U,[t[4]||(t[4]=s("span",{class:"ele-title"},"é˜…è¯»æ—¶é•¿ï¼š",-1)),a(n((v=i(e))==null?void 0:v.blogInfo.readingTime)+"åˆ†é’Ÿ ",1)]),((b=i(e))==null?void 0:b.blogInfo.category)!=="default"?(p(),c("span",$,[t[5]||(t[5]=s("span",{class:"ele-title"},"åˆ†ç±»ï¼š",-1)),a(n((E=i(e))==null?void 0:E.blogInfo.category),1)])):B("",!0),(y=i(e))!=null&&y.blogInfo.series.enable?(p(),c("span",L,[t[6]||(t[6]=s("span",{class:"ele-title"},"ç³»åˆ—ï¼š",-1)),a(n((A=i(e))==null?void 0:A.blogInfo.series.name),1)])):B("",!0),t[7]||(t[7]=s("span",{class:"copy-right"},[s("span",{class:"ele-title"},"è®¸å¯åè®®ï¼š"),s("p",{"xmlns:cc":"http://creativecommons.org/ns#"},[s("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1",target:"_blank",rel:"license noopener noreferrer",style:{display:"inline-block"}},[a("CC BY-NC-SA 4.0"),s("img",{style:{height:"22px !important","margin-left":"3px","vertical-align":"text-bottom"},src:"https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1",alt:""}),s("img",{style:{height:"22px !important","margin-left":"3px","vertical-align":"text-bottom"},src:"https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1",alt:""}),s("img",{style:{height:"22px !important","margin-left":"3px","vertical-align":"text-bottom"},src:"https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1",alt:""}),s("img",{style:{height:"22px !important","margin-left":"3px","vertical-align":"text-bottom"},src:"https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1",alt:""})])])],-1))])]),t[9]||(t[9]=g('<p> ç½‘æ˜“äº‘éŸ³ä¹çš„æ­Œè¯apiè¿”å›çš„æ­Œè¯ç±»å‹æœ‰ä¸¤ç§ï¼šé€è¡Œæ­Œè¯ï¼ˆlrcï¼‰å’Œé€å­—æ­Œè¯ï¼ˆyrcï¼‰ã€‚ </p><h2 id="%E7%9B%AE%E6%A0%87" tabindex="-1">ç›®æ ‡</h2><p>éœ€è¦å®ç°çš„æ­Œè¯åŠ¨ç”»åŒ…æ‹¬ï¼š</p><ol><li>æ»šåŠ¨åŠ¨ç”»ï¼šå¹³æ»‘æ»šåŠ¨åˆ°å½“å‰è¡Œ</li><li>ç¼©æ”¾åŠ¨ç”»ï¼šå½“å‰è¡Œçš„ç¼©æ”¾ä»1.0ç¼“å˜ä¸º1.3ï¼Œä¸Šä¸€è¡Œåå‘å˜åŒ–</li><li>é€å­—æ­Œè¯åŠ¨ç”»ï¼šä»å·¦åˆ°å³çš„å‰ªåˆ‡æ•ˆæœ</li></ol><p>é€è¡Œæ­Œè¯å¯è§†ä¸ºé€å­—æ­Œè¯çš„ç‰¹ä¾‹ï¼šå³åŠ¨ç”»é•¿åº¦ä¸º0çš„é€å­—æ­Œè¯ã€‚</p><h2 id="%E5%88%9D%E4%BB%A3%E6%96%B9%E6%A1%88%EF%BC%9A%E5%9F%BA%E4%BA%8Ecss%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0" tabindex="-1"> åˆä»£æ–¹æ¡ˆï¼šåŸºäºCSSåŠ¨ç”»çš„å®ç° </h2><p> åˆç‰ˆåº”ç”¨äºXCMusic <a href="https://github.com/yiktllw/XCMusic/releases/tag/0.2.4">0.2.4</a>åŠä¹‹å‰ç‰ˆæœ¬ã€‚ </p><p>ä¸»è¦åŸç†æ˜¯ï¼š</p><ol><li>ç”¨<code>requestAnimationFrame</code>è®¡ç®—æ»šåŠ¨åŠ¨ç”»ä½ç½®</li><li>CSSåŠ¨ç”»å¤„ç†ç¼©æ”¾æ•ˆæœï¼›</li><li><code>clip-path</code>å®ç°é€å­—åŠ¨ç”»ï¼ŒåŠ¨ç”»æ—¶é•¿å¯¹åº”æ­Œè¯æ—¶é—´</li></ol>',9)),s("pre",null,[s("code",{"data-open":m.value[0],class:"hljs language-vue",style:{"font-family":"yiktllw-code, serif",position:"relative"}},[s("div",V,[(p(),c(I,null,M(15,d=>s("span",null,n(d),1)),64))]),s("div",G,[s("div",{onClick:t[0]||(t[0]=d=>_(0)),class:"language"},"vue"),s("div",{class:"copy-button",onClick:t[1]||(t[1]=d=>k(0))},[s("img",{class:"copy-img",src:i(T)},null,8,Y)])]),t[8]||(t[8]=g(`<div class="code"><span class="language-xml"><span class="hljs-comment">&lt;!-- é€å­—æ­Œè¯åŠ¨ç”» --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">span</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item-white font-color-main&quot;</span>
  <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;{
    transition: \`clip-path \${(word.duration ?? 0) + (word.startTime ?? line.startTime) &gt; currentTime ? (word.duration ?? 0) / 1000 : 0}s linear, color 0.5s ease\`,
    clipPath:
      word.startTime &lt;= currentTime ? &#39;inset(0 0% 0 0)&#39; : &#39;inset(0 100% 0 0)&#39;,
    color:
      index === currentLine
        ? &#39;var(--font-color-main)&#39;
        : &#39;var(--font-color-standard)&#39;,
  }&quot;</span>
&gt;</span>
  {{ word.text }}
<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</span></div>`,1))],8,O)]),t[10]||(t[10]=g('<h2 id="%E4%BA%8C%E4%BB%A3%E6%96%B9%E6%A1%88%EF%BC%9A%E4%BD%BF%E7%94%A8canvas%E5%AE%9E%E7%8E%B0" tabindex="-1"> äºŒä»£æ–¹æ¡ˆï¼šä½¿ç”¨Canvaså®ç° </h2><p> åº”ç”¨äºXCMusic <a href="https://github.com/yiktllw/XCMusic/releases/tag/0.2.5">0.2.5</a>è‡³<a href="https://github.com/yiktllw/XCMusic/releases/tag/0.3.0">0.3.0</a>ç‰ˆæœ¬ã€‚ </p><p>åœ¨ç¬¬ä¸€ç‰ˆæ­Œè¯ä¸­ï¼Œæˆ‘å‘ç°å…¶å­˜åœ¨è¯¸å¤šä¸ä¾¿åˆ©æ€§ï¼š</p><ol><li>CSSåŠ¨ç”»æ— æ³•æš‚åœ</li><li>è¿‡å¤šçš„domå…ƒç´ å¯¼è‡´çš„å†…å­˜å ç”¨é—®é¢˜</li><li>CSSåŠ¨ç”»çš„è‡ªç”±æ€§å¤ªä½</li></ol><p>æ°å¥½Canvasèƒ½å¤Ÿå®Œç¾è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p><p>ä½¿ç”¨Canvaså®Œæˆæ­Œè¯çš„é€»è¾‘ï¼š</p><ol><li>è·å–å½“å‰ç³»ç»Ÿç¼©æ”¾å’Œåº”ç”¨ç¼©æ”¾å¹¶é€‚é…ï¼Œé˜²æ­¢Canvasæ¨¡ç³Š</li><li>æ ¹æ®è§£æåçš„æ­Œè¯ï¼Œè®¡ç®—æ¯ä¸€è¡Œæ­Œè¯çš„ä½ç½®ã€‚</li><li> ä½¿ç”¨requestAnimationFrameåœ¨æ¯ä¸€å¸§å®Œæˆï¼š <ul><li>è·å–å½“å‰éŸ³é¢‘çš„æ’­æ”¾è¿›åº¦</li><li>è®¡ç®—å½“å‰æ»šåŠ¨é«˜åº¦ï¼Œå®ç°æ»šåŠ¨åŠ¨ç”»</li><li>æ ¹æ®æ»šåŠ¨é«˜åº¦ä¸å½“å‰è¡Œé«˜åº¦çš„å·®å€¼ï¼Œè®¡ç®—ç¼©æ”¾åŠ¨ç”»å’Œå­—ä½“é¢œè‰²</li><li> è®¡ç®—å½“å‰é€å­—åŠ¨ç”»ä½ç½®ï¼Œå¹¶è®¡ç®—<code>cutX</code>çš„ä½ç½®ã€‚<br> ä¸ç¬¬ä¸€ç‰ˆæ­Œè¯ç±»ä¼¼ï¼Œåœ¨<code>scrollY</code>å¤„ç”»ä¸¤ä»½æ­Œè¯ï¼šä¸€ä»½ä¸ºç™½è‰²ï¼Œä»…æ˜¾ç¤º<code>cutX</code>å·¦ä¾§çš„éƒ¨åˆ†ï¼›å¦ä¸€ä»½ä¸ºç°è‰²ï¼Œä»…æ˜¾ç¤º<code>cutX</code>å³ä¾§çš„éƒ¨åˆ†ã€‚ </li></ul></li><li>ç›‘å¬ç”¨æˆ·é¼ æ ‡æ»šè½®ï¼Œå¹¶æ‰§è¡Œå¯¹åº”çš„æ»šåŠ¨åŠ¨ç”»ã€‚</li></ol><p>çº¯jså®ç°å¸¦æ¥çš„è‡ªç”±åº¦æ˜¯æé«˜çš„--è¿™ä¸€ç‰ˆåŠ¨ç”»çš„æ•ˆæœä¹Ÿæ˜¯æœ€å¥½çš„ã€‚</p><p><strong>å·²çŸ¥çš„é—®é¢˜</strong>ï¼š</p><ol><li> åœ¨ä½¿ç”¨æ­Œè¯æ—¶ï¼Œelectronçš„GPUè¿›ç¨‹å ç”¨çš„å†…å­˜ä¼šé€æ­¥ä¸Šæ¶¨ï¼Œå¤§çº¦åœ¨ä¸€æ•´å¤©å†…ä»10MBä»¥å†…ä¸Šæ¶¨åˆ°100MBå·¦å³ã€‚è€Œelectronæ²¡æœ‰æä¾›apiæ¥æ¸…é™¤GPUè¿›ç¨‹çš„å†…å­˜å ç”¨ã€‚<s>å¯ä»¥é€šè¿‡ç¦ç”¨GPUåŠ é€Ÿæ¥è§£å†³æ­¤é—®é¢˜</s></li><li> æ”¾å¼ƒä½¿ç”¨DOMçš„åŒæ—¶ä¹Ÿæ”¾å¼ƒäº†ç°æœ‰çš„æ»šåŠ¨å®¹å™¨å’Œæ’ç‰ˆç³»ç»Ÿã€‚å‰è€…å¯¼è‡´æ­Œè¯çš„æ»šåŠ¨äº¤äº’ä½“éªŒå˜å·®ï¼Œè€Œåè€…æ„å‘³ç€é•¿è¡Œæ­Œè¯çš„æ’ç‰ˆæˆä¸ºä¸€ä¸ªå¤§é—®é¢˜ </li><li> ç”±äºéœ€è¦åœ¨æ¯ä¸€å¸§è®¡ç®—åŠ¨ç”»ï¼Œæ€§èƒ½ä¼˜åŒ–æ ¼å¤–é‡è¦ã€‚è¿™å¤§å¤§é™åˆ¶äº†ä»£ç çš„å¯è¯»æ€§ï¼Œå¢å¤§äº†ç»´æŠ¤éš¾åº¦ã€‚<s>è¿‡å‡ å¤©è‡ªå·±éƒ½ä¸çŸ¥é“å†™äº†ä¸ªå•¥</s></li></ol><h2 id="%E6%9C%80%E7%BB%88%E7%89%88%E6%9C%AC%EF%BC%9A%E5%9F%BA%E4%BA%8Eweb-animations-api%E5%92%8Ccss%E6%AD%8C%E8%AF%8D%E5%8A%A8%E7%94%BB" tabindex="-1"> æœ€ç»ˆç‰ˆæœ¬ï¼šåŸºäºWeb Animations APIå’ŒCSSæ­Œè¯åŠ¨ç”» </h2><p>æœ€ç»ˆç‰ˆæ­Œè¯åŠ¨ç”»ï¼Œåœ¨XCMusic 0.3.1ï¼ˆæœªå‘å¸ƒï¼‰åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨ã€‚</p>',12))],512)}}});export{K as default};
