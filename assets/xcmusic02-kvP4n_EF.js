import{d as S,r as b,n as I,o as F,b as N,c as d,a as t,e as R,t as l,u as a,f as E,g,h as f,i as M,F as q,j as L,k as p}from"./index-DBRjhJB0.js";import"https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs";const D={class:"blog-container",ref:"container"},V={class:"blog-info"},W={class:"blog-title"},J={class:"sidebar-placeholder"},j={class:"sidebar-container"},z={class:"nav"},P={class:"nav-content"},X={class:"article toc active",id:"article"},O={class:"depth-0"},U={class:"info"},Y={class:"create-time"},$={class:"last-update"},G={class:"word-count"},H={class:"reading-time"},K={key:0,class:"category"},Q={key:1,class:"series"},Z={key:2,class:"tags"},oe=S({__name:"xcmusic02",setup(ee){const v=b(),r=b([]),c=b(0),B=()=>{const n=(document.documentElement.scrollTop||document.body.scrollTop)+100;let e=0;for(const[s,u]of r.value.entries())if(n>u)if(r.value[s+1]&&n<r.value[s+1]){e=s;break}else s===r.value.length-1&&(e=s);e!==c.value&&(c.value=e)};I(()=>{document.querySelectorAll(".blog h2, .blog h3, .blog h4, .blog h5, .blog h6").forEach(e=>{r.value.push(e.offsetTop)}),r.value.map(e=>-e),r.value.sort((e,s)=>e-s),document.addEventListener("scroll",B)}),F(()=>{document.removeEventListener("scroll",B)});const A=n=>{const e=document.getElementById(n),s=document.getElementById(n==="article"?"site":"article");s?(s.classList.remove("active"),e&&(e.style.display="block",e.style.position="absolute"),setTimeout(()=>{e&&(e.classList.add("active"),e.style.position="initial"),s.style.display="none"},200)):e&&e.classList.add("active");const u=document.getElementById("nav_"+n),m=document.getElementById("nav_"+(n==="article"?"site":"article"));u&&u.classList.add("selected"),m&&m.classList.remove("selected")},i=document.createElement("script");i.src="https://utteranc.es/client.js",i.setAttribute("repo","yiktllw/yiktllw.github.io"),i.setAttribute("issue-term","2025/04/xcmusic02"),i.setAttribute("label","ğŸ’¬comment"),i.setAttribute("theme",`github-${window.theme??"dark"}`),i.setAttribute("crossorigin","anonymous"),i.setAttribute("async","true"),I(()=>{var n,e,s;(n=v.value)==null||n.appendChild(i),(e=window.mermaid)==null||e.initialize({startOnLoad:!1,theme:window.theme==="dark"?"dark":"default"}),(s=window.mermaid)==null||s.run()});const o=N.find(n=>n.component==="@/blogs/2025/04/xcmusic02.vue");return document.title=(o==null?void 0:o.blogInfo.title)??"yiktllwçš„åšå®¢",b([]),(n,e)=>{var s,u,m,y,k,C,_,w,T,x;return p(),d("div",D,[t("div",{class:"blog",ref_key:"blog",ref:v},[t("div",V,[t("h1",W,l(((s=a(o))==null?void 0:s.blogInfo.title)??"Untitled"),1)]),e[2]||(e[2]=R('<h2 id="electron-%E7%9A%84%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F" tabindex="-1"> Electron çš„æ‰“åŒ…æ–¹å¼ </h2><p> Electron é‡‡ç”¨ Chromium å‰ç«¯ + NodeJS åç«¯ + ç³»ç»Ÿ API çš„æ¶æ„æ¨¡å¼<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚è½¯ä»¶æ‰“åŒ…åï¼ŒChromium å’Œ NodeJS æ„æˆäº†å­˜å‚¨ç©ºé—´çš„ä¸»è¦éƒ¨åˆ†ã€‚ </p><p> ä»¥ XCMusic çš„ Windows å®‰è£…åŒ…ä¸ºä¾‹ï¼šElectron 10+ æ‰“åŒ…ä½“ç§¯çº¦ 60MBï¼Œå‡çº§è‡³ Electron 35 åå¢è‡³ 80MBï¼Œè€Œæˆ‘å®é™…ç¼–å†™çš„åº”ç”¨ä»£ç å’Œèµ„æºï¼ˆapp.asarï¼‰ä»…å  15MBã€‚ </p><p> è¿™ç§æ‰“åŒ…æœºåˆ¶å­˜åœ¨æ˜¾è‘—å¼Šç«¯ï¼šæ¯ä¸ª Electron åº”ç”¨éƒ½éœ€å†…ç½®å®Œæ•´çš„ Chromium è¿è¡Œæ—¶ï¼Œå¯¼è‡´ç”¨æˆ·è®¾å¤‡å¯èƒ½åŒæ—¶å­˜åœ¨æ•°åä¸ªé‡å¤çš„ Chromium å®ä¾‹ã€‚ </p><p><s>å–œæŠ¥ï¼šçˆ·çš„ç”µè„‘ä¸Šæœ‰ xx ä¸ª Chromium.jpg</s><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><h2 id="%E5%85%BC%E5%AE%B9%E6%80%A7-or-%E7%A1%AC%E7%9B%98%E7%A9%BA%E9%97%B4" tabindex="-1"> å…¼å®¹æ€§ OR ç¡¬ç›˜ç©ºé—´ </h2><p> Tauri çš„å®‰è£…åŒ…ä¸åŒ…å« Webview ç»„ä»¶ï¼Œç›´æ¥è°ƒç”¨ç³»ç»ŸåŸç”Ÿ Webview è¿›è¡Œæ¸²æŸ“ï¼š </p><blockquote><p><strong>Minimal Size</strong><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p><p> By using the OS&#39;s native web rendererï¼Œthe size of a Tauri app can be little as 600KB. </p></blockquote><p> è¿™ç§è®¾è®¡ä½¿å¾— Tauri æ‰“åŒ…åçš„ä½“ç§¯æ˜¯æå°çš„â€”â€”æˆ‘è®¤ä¸ºè¿™æ­£æ˜¯ Tauri çš„æ ¸å¿ƒç«äº‰åŠ›æ‰€åœ¨ã€‚ </p><p> ä½†æ˜¯ï¼Œè¿™ç§è®¾è®¡ä¹Ÿæ„å‘³ç€éœ€è¦å¼€å‘è€…é€‚é…ä¸åŒæ“ä½œç³»ç»Ÿçš„ Webview ç‰¹æ€§å·®å¼‚ã€‚å¯¹äºä¸ªäººå¼€å‘è€…è€Œè¨€ï¼Œè·¨å¹³å°è°ƒè¯•æ‰€éœ€çš„æ—¶é—´æˆæœ¬æ˜¯ä¸å¾—ä¸è€ƒè™‘çš„é—®é¢˜ã€‚ </p><p> å¦‚åŒ VSCode ä»¥æ€§èƒ½æ¢å–ç”Ÿæ€ä¼˜åŠ¿ï¼ŒElectron ä¸ Tauri çš„å–èˆæœ¬è´¨ä¸Šæ˜¯å…¼å®¹æ€§ä¸èµ„æºå ç”¨çš„æƒè¡¡ã€‚ </p><h2 id="%E5%86%85%E5%AD%98%E5%AE%89%E5%85%A8...%E5%90%97%3F" tabindex="-1"> å†…å­˜å®‰å…¨...å—? </h2><p>Tauri åœ¨å®˜ç½‘ä¸Šå¼ºè°ƒï¼š</p><blockquote><p><strong>Maximum Security</strong><sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3:1]</a></sup></p><p> Front-of-mind for the Tauri Team that drives our highest priorities and biggest innovations. </p></blockquote><blockquote><p><strong>Powered by Rust</strong><sup class="footnote-ref"><a href="#fn3" id="fnref3:2">[3:2]</a></sup></p><p> With performance and security at the center, Rust is the language for the next generation of apps. </p></blockquote><p> ä½œä¸ºå†…å­˜å®‰å…¨çš„ç³»ç»Ÿçº§è¯­è¨€ï¼ŒRust ç¡®å®ä¸ºåç«¯ä»£ç æä¾›äº†å®‰å…¨ä¿éšœã€‚<strong><em>ä½†æ˜¯</em></strong>ï¼Œæ­£å¦‚ Tauri åœ¨å…¶å®˜ç½‘ä¸Šå®£ä¼ çš„é‚£æ ·ï¼š </p><blockquote><p><strong>Frontend Independent</strong><sup class="footnote-ref"><a href="#fn3" id="fnref3:3">[3:3]</a></sup></p><p> Bring your existing web stack to Tauri or start that new dream project. Tauri supports any frontend framework so you donâ€™t need to change your stack. </p></blockquote><p> Tauri åªåœ¨åç«¯ä½¿ç”¨äº† Rustï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€ç¼–å†™å‰ç«¯ï¼šä½¿ç”¨ Rust çš„ Dioxusã€Yewï¼›ä½¿ç”¨ JS çš„ Vue, React ç­‰ã€‚ </p><p> åœ¨ XCMusic ä¸­ï¼ŒElectron åç«¯ä»£ç ä»… 1200 è¡Œï¼Œè€ŒåŸºäº Vue çš„å‰ç«¯ä»£ç é«˜è¾¾ 2.6w è¡Œã€‚è¿™æ„å‘³ç€å³ä½¿è¿ç§»è‡³ Tauriï¼Œä»…æœ‰ 4% çš„ä»£ç èƒ½äº«å— Rust çš„å†…å­˜å®‰å…¨ä¼˜åŠ¿ã€‚ </p><p> åœ¨ XCMusic ä¸­ï¼šTauri ä¸»è¿›ç¨‹å†…å­˜å ç”¨æ§åˆ¶åœ¨ 10MB ä»¥å†…ï¼Œä½† Windows Webview è¿›ç¨‹å†…å­˜æ¶ˆè€—çº¦ 300MBâ€”â€”ä¸ Electron æ¸²æŸ“è¿›ç¨‹çš„å ç”¨æ°´å¹³åŸºæœ¬æŒå¹³ã€‚ </p><p> ç”±æ­¤å¯è§ï¼Œä¸ºè·å¾—æœ‰é™çš„å®‰å…¨æå‡è€ŒæŠ›å¼ƒ Electron çš„å…¼å®¹æ€§å’Œç”Ÿæ€ä¼˜åŠ¿ï¼Œå…¶æ€§ä»·æ¯”å€¼å¾—å•†æ¦·ã€‚ </p><h2 id="%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98%EF%BC%9A%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90-api" tabindex="-1"> æ ¸å¿ƒé—®é¢˜ï¼šç½‘æ˜“äº‘éŸ³ä¹ API </h2><p> XCMusic ä¾èµ–çš„ <a href="https://github.com/Binaryify/NeteaseCloudMusicApi">NeteaseCloudMusicApi</a> æ˜¯åŸºäº NodeJS çš„å®ç°ã€‚Electron å†…ç½® NodeJS ç¯å¢ƒï¼Œå¯ç›´æ¥å¯åŠ¨è¯¥æœåŠ¡ï¼›è€Œåœ¨ Tauri ä¸­åˆ™é¢ä¸´ä¸¤éš¾é€‰æ‹©ï¼š </p><ol><li>æ‰“åŒ…ä¸ºäºŒè¿›åˆ¶ç¨‹åºï¼šå°†å¢åŠ çº¦ 40MB ä½“ç§¯ï¼Œæ˜¾è‘—å‰Šå¼± Tauri çš„ä½“ç§¯ä¼˜åŠ¿</li><li> é‡å†™ä¸º Rust ç‰ˆæœ¬ï¼šéœ€é‡æ„ 2w è¡Œ JS ä»£ç ï¼Œå¼€å‘æˆæœ¬è¿‡é«˜<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li></ol><p>äºŒè€…å‡ä¸å…·å¤‡å¯è¡Œæ€§ã€‚</p><h2 id="%E7%BB%93%E8%AE%BA" tabindex="-1">ç»“è®º</h2><p> å¯¹äºå…¨æ–°å¼€å‘çš„ Windows æ¡Œé¢åº”ç”¨ï¼Œé‡‡ç”¨ Tauri é…åˆ Rust å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Dioxus/Yewï¼‰æ˜¯å€¼å¾—è€ƒè™‘çš„æ–¹æ¡ˆã€‚ </p><p> ç„¶è€Œå°± XCMusic è€Œè¨€ï¼Œä½œä¸ºè·¨å¹³å° Vue åº”ç”¨ï¼Œè¿ç§»è‡³ Tauri éš¾ä»¥è·å¾—æ˜¾è‘—çš„å®‰å…¨å¢ç›Šï¼Œæ˜¯è´¹åŠ›ä¸è®¨å¥½çš„ã€‚ </p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://www.electronjs.org/zh/docs/latest/">ç®€ä»‹ï¼šElectron</a><a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://github.com/xh321/CefDetector.Net">GitHubï¼šæ£€æµ‹ç”µè„‘ä¸­æœ‰å¤šå°‘ä¸ª Chromium å†…æ ¸çš„ç¨‹åº</a><a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://v2.tauri.app/">Tauri 2.0 å®˜æ–¹ç½‘ç«™</a><a href="#fnref3" class="footnote-backref">â†©ï¸</a><a href="#fnref3:1" class="footnote-backref">â†©ï¸</a><a href="#fnref3:2" class="footnote-backref">â†©ï¸</a><a href="#fnref3:3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p> GitHub ä¸Šæœ‰å°†æ­¤é¡¹ç›®è½¬å†™ä¸º Rust çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯å…¶æœ€åæ›´æ–°åœ¨ 2018 å¹´ï¼Œæä¾›çš„ API å¾ˆå°‘ï¼Œå¯ç”¨æ€§ä¸é«˜ã€‚ <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li></ol></section>',30))],512),t("div",J,[t("div",j,[t("div",z,[t("div",{class:"nav-item selected",id:"nav_article",onClick:e[0]||(e[0]=h=>A("article"))}," æ–‡ç« ä¿¡æ¯ "),t("div",{class:"nav-item",id:"nav_site",onClick:e[1]||(e[1]=h=>A("site"))}," ç«™ç‚¹æ¦‚è§ˆ ")]),t("div",P,[t("div",X,[e[11]||(e[11]=t("div",{class:"toc-title"},"ç›®å½•",-1)),e[12]||(e[12]=t("div",{class:"progress-bar"},null,-1)),t("ul",O,[t("li",null,[t("a",{href:"#electron-%E7%9A%84%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F",class:E(c.value===0?"active":"not-active")},"1Â Electron çš„æ‰“åŒ…æ–¹å¼",2)]),t("li",null,[t("a",{href:"#%E5%85%BC%E5%AE%B9%E6%80%A7-or-%E7%A1%AC%E7%9B%98%E7%A9%BA%E9%97%B4",class:E(c.value===1?"active":"not-active")},"2Â å…¼å®¹æ€§ OR ç¡¬ç›˜ç©ºé—´",2)]),t("li",null,[t("a",{href:"#%E5%86%85%E5%AD%98%E5%AE%89%E5%85%A8...%E5%90%97%3F",class:E(c.value===2?"active":"not-active")},"3Â å†…å­˜å®‰å…¨...å—?",2)]),t("li",null,[t("a",{href:"#%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98%EF%BC%9A%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90-api",class:E(c.value===3?"active":"not-active")},"4Â æ ¸å¿ƒé—®é¢˜ï¼šç½‘æ˜“äº‘éŸ³ä¹ API",2)]),t("li",null,[t("a",{href:"#%E7%BB%93%E8%AE%BA",class:E(c.value===4?"active":"not-active")},"5Â ç»“è®º",2)])]),t("div",U,[t("span",Y,[e[3]||(e[3]=t("span",{class:"ele-title"},"åˆ›å»ºäºï¼š",-1)),f(l(a(M)(((u=a(o))==null?void 0:u.blogInfo.createTime)??0)),1)]),t("span",$,[e[4]||(e[4]=t("span",{class:"ele-title"},"ä¿®æ”¹äºï¼š",-1)),f(l(a(M)(((m=a(o))==null?void 0:m.blogInfo.lastUpdate)??0)),1)]),t("span",G,[e[5]||(e[5]=t("span",{class:"ele-title"},"æœ¬æ–‡å­—æ•°ï¼š",-1)),f(l((y=a(o))==null?void 0:y.blogInfo.wordCount)+"å­— ",1)]),t("span",H,[e[6]||(e[6]=t("span",{class:"ele-title"},"é¢„è®¡é˜…è¯»æ—¶é—´ï¼š",-1)),f(l((k=a(o))==null?void 0:k.blogInfo.readingTime)+"åˆ†é’Ÿ ",1)]),((C=a(o))==null?void 0:C.blogInfo.category)!=="default"?(p(),d("span",K,[e[7]||(e[7]=t("span",{class:"ele-title"},"åˆ†ç±»äºï¼š",-1)),f(l((_=a(o))==null?void 0:_.blogInfo.category),1)])):g("",!0),(w=a(o))!=null&&w.blogInfo.series.enable?(p(),d("span",Q,[e[8]||(e[8]=t("span",{class:"ele-title"},"ç³»åˆ—ï¼š",-1)),f(l((T=a(o))==null?void 0:T.blogInfo.series.name),1)])):g("",!0),e[10]||(e[10]=t("span",{class:"copy-right"},[t("span",{class:"ele-title"},"è®¸å¯åè®®ï¼š"),t("p",{"xmlns:cc":"http://creativecommons.org/ns#"},[t("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1",target:"_blank",rel:"license noopener noreferrer",style:{display:"inline-block"}},"CC BY-NC-SA 4.0")])],-1)),a(o)&&a(o).blogInfo.tags.length>0?(p(),d("span",Z,[e[9]||(e[9]=t("span",{class:"ele-title"},"æ ‡ç­¾ï¼š",-1)),(p(!0),d(q,null,L((x=a(o))==null?void 0:x.blogInfo.tags,h=>(p(),d("span",{class:"tag",key:h},l(h),1))),128))])):g("",!0)])]),e[13]||(e[13]=t("div",{class:"site",id:"site"},"æ ‡ç­¾2çš„å†…å®¹",-1))])])])],512)}}});export{oe as default};
